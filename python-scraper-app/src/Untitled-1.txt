def get_exchange_rate(currency_code):
    print(f"Richiesta conversione per: {currency_code}")  # DEBUG
    if currency_code.upper() == "EUR":
        return 1.0
    try:
        url = f"https://api.exchangerate.host/latest?base={currency_code.upper()}&symbols=EUR"
        res = requests.get(url, timeout=5)
        data = res.json()
        return data["rates"]["EUR"]
    except Exception as e:
        print(f"Errore conversione {currency_code}: {e}")  # DEBUG
        return None